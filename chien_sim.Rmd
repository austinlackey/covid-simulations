##todo

```{r}
library(tidyverse)
library(dplyr)
library(pracma)
```

## R Markdown


```{r cars}
covid <- read_csv("owid-covid-data.csv")
```

```{r}
china <- covid %>% 
  filter(location=="China") %>% 
  filter(date <= "2020-03-28") %>% 
  filter(date >= "2020-01-22") %>% 
  select(date, total_cases, total_deaths) %>% 
  mutate(days = c(1:67))
```

```{r}
ggplot() +
  geom_point(aes(x = date, y = total_cases), data = china)
#+ geom_smooth(aes(x = date, y = total_cases), data=italy)
ggplot() +
  geom_point(aes(x = date, y = total_deaths), data = china)
#+ geom_smooth(aes(x = date, y = total_deaths), data=italy)
```

```{r}
x <- 1:67
ggplot(china,aes(x)) +
  geom_point(aes(x = days, y = total_cases)) +
  stat_function(fun=function(x) 40000 + 40000 * erf(0.11*x - 2))

ggplot(china,aes(x)) +
  geom_point(aes(x = days, y = total_deaths)) +
  stat_function(fun=function(x) 1600 + 1600 * erf(0.071*x - 1.8))
```

```{r}
italy <- covid %>% 
  filter(location=="Italy") %>% 
  filter(date <= "2020-04-21") %>%
  filter(date >= "2020-02-15") %>%
  select(date, total_cases, total_deaths) %>% 
  mutate(days = c(1:67))
italy[45:67,] <- NA
```

```{r}
ggplot() +
  geom_point(aes(x = date, y = total_cases), data = italy)
#+ geom_smooth(aes(x = date, y = total_cases), data=italy)
ggplot() +
  geom_point(aes(x = date, y = total_deaths), data = italy)
#+ geom_smooth(aes(x = date, y = total_deaths), data=italy)
```


```{r}
x <- 1:67
ggplot(italy,aes(x)) +
  geom_point(aes(x = days, y = total_cases)) +
  stat_function(fun=function(x) 100000 + 100000 * erf(0.07*x - 3))

ggplot(italy,aes(x)) +
  geom_point(aes(x = days, y = total_deaths)) +
  stat_function(fun=function(x) 11000 + 11000 * erf(0.068*x - 3))
```